<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>jhj-coding</title><meta name="author" content="jhj,hnjzjhj@163.com"><meta name="copyright" content="jhj"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="referrer" content="no-referrer"><meta name="description" content="努力学习，努力爱你!">
<meta property="og:type" content="website">
<meta property="og:title" content="jhj-coding">
<meta property="og:url" content="https://jhj-coding.top/page/9/index.html">
<meta property="og:site_name" content="jhj-coding">
<meta property="og:description" content="努力学习，努力爱你!">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/jhj-coding/my-typora-picgo/raw/master/my-typora-picgo/avatar1.jpg">
<meta property="article:author" content="jhj">
<meta property="article:tag" content="努力学习，努力爱你!">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/jhj-coding/my-typora-picgo/raw/master/my-typora-picgo/avatar1.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://jhj-coding.top/page/9/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: {"appId":"E5YHLBZKVY","apiKey":"2140342b15c2eb0b1394666b250ab530","indexName":"jhj-coding","hits":{"per_page":10},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":30,"languages":{"author":"作者: jhj","link":"链接: ","source":"来源: jhj-coding","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'jhj-coding',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-06-22 12:53:11'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="//at.alicdn.com/t/c/font_4464920_xjgycwsyk7j.css"><link rel="stylesheet" href="/css/custom.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.1.1"><link rel="alternate" href="/atom.xml" title="jhj-coding" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://gitee.com/jhj-coding/my-typora-picgo/raw/master/my-typora-picgo/avatar1.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">190</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">62</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">18</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard"><i class="fa-fw fa-fw fas fa-comment-dots"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://id.ouc.edu.cn/sso/casLogin/img/banner2-1694742541774.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="jhj-coding"><span class="site-name">jhj-coding</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard"><i class="fa-fw fa-fw fas fa-comment-dots"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">jhj-coding</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/jhj-coding" target="_blank" title="github"><i class="fab fa-github" style="color: #hdhfbb;"></i></a><a class="social-icon" href="https://gitee.com/jhj-coding" target="_blank" title="gitee"><i class="iconfont icon-gitee" style="color: #hdhfbb;"></i></a><a class="social-icon" href="https://blog.csdn.net/weixin_45247019" target="_blank" title="csdn"><i class="iconfont icon-csdn" style="color: #hdhfbb;"></i></a><a class="social-icon" href="mailto:jhjcoding@163.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #hdhfbb;"></i></a><a class="social-icon" href="https://gitee.com/jhj-coding/my-typora-picgo/raw/master/my-typora-picgo/qq.jpg" target="_blank" title="qq"><i class="fa-brands fa-qq" style="color: #hdhfbb;"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss" style="color: #hdhfbb;"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/post/bf96b542.html" title="Leetcode 2两数相加"><img class="post-bg" src="https://gitee.com/jhj-coding/my-typora-picgo/raw/master/my-typora-picgo/java.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Leetcode 2两数相加"></a></div><div class="recent-post-info"><a class="article-title" href="/post/bf96b542.html" title="Leetcode 2两数相加">Leetcode 2两数相加</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-08T16:34:11.000Z" title="发表于 2022-10-09 00:34:11">2022-10-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/leetcode/">leetcode</a></span></div><div class="content">思路按照链表的顺序去取出val 进行相加 如果链表长度不同则后补0相加后进行进位判断
代码123456789101112131415161718192021222324252627282930313233343536373839/** * Definition for singly-linked list. * public class ListNode &#123; *     int val; *     ListNode next; *     ListNode() &#123;&#125; *     ListNode(int val) &#123; this.val = val; &#125; *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125; * &#125; */class Solution &#123;        public ListNode addTwoNumbers(ListNode l1, ListNode l2) &#123;      ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/post/8d47b8c3.html" title="粒子群算法 PSO"><img class="post-bg" src="https://gitee.com/jhj-coding/my-typora-picgo/raw/master/img/202403141738639.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="粒子群算法 PSO"></a></div><div class="recent-post-info"><a class="article-title" href="/post/8d47b8c3.html" title="粒子群算法 PSO">粒子群算法 PSO</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-06T03:45:03.000Z" title="发表于 2022-10-06 11:45:03">2022-10-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/">优化算法</a></span></div><div class="content">粒子群算法粒子群算法(PSO),在PSO中,每个优化问题的潜在解都是搜索空间的一只鸟，被称为粒子，所有的粒子都有一个由适应度函数决定的适值，每个粒子还有一个速度决定它们“”飞行“”的方向和距离，然后粒子们就追随当前的最优粒子在解空间中搜索,整个过程大致为,PSO初始化为一群随机粒子(随机解),然后通过迭代找到最优解。在每一次迭代的过程中，粒子通过跟踪两个极值来更新自己:第一个就是粒子本身所找到的最优解,这个解称为个体极值;另一个极值是整个种群目前找到的最优解,这个解是全局极值假设初始目标搜索空间（初始种群位置） D 维 N 列 X i &#x3D; ( x i 1 , . . . x i D ) i &#x3D; 1 , . . . N 第 i 个粒子的飞行速度记为 V i &#x3D; ( v i 1 , . . . v i D ) i &#x3D; 1 , . . . N 第 i 个粒子的最优位置个体最优记为 P b e s t &#x3D; ( p i 1 , . . . p i D ) i &#x3D; 1 , . . . N 全局最优记为 g b e s t &#x3D; ( ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/post/a0d601b7.html" title="模拟退火算法"><img class="post-bg" src="https://gitee.com/jhj-coding/my-typora-picgo/raw/master/img/202403141738639.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="模拟退火算法"></a></div><div class="recent-post-info"><a class="article-title" href="/post/a0d601b7.html" title="模拟退火算法">模拟退火算法</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-05T11:14:15.000Z" title="发表于 2022-10-05 19:14:15">2022-10-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E4%BC%98%E5%8C%96%E7%AE%97%E6%B3%95/">优化算法</a></span></div><div class="content">模拟退火算法
其最终目的是选取最大值
爬山算法所谓爬山算法就是先随机找个一个点，然后计算其y值，然后随机给一个领域 在其左右邻域找到一个点 再次计算其y值，然后进行比较，找到最大的 循环下去即可。但是可能会出现局部最优解比如在上图中如果领域较小则会出现最优解在（0，7）附近。在其基础上出现了模拟退火算法。
模拟退火算法为了解决局部最优解，当领域中选择的值求出的y小于原y时，增加一个概率判断是否选择其为一个解 再去迭代它。概率的选择有很多形式我们采用玻尔兹曼常数退火算法p &#x3D; e − △ f k T &#x3D; e − f ( x 1 ) − f ( x 2 ) k T 注： k 为下降速度， T 为温度 f ( x 1 ) − f ( x 2 ) 为两个 y 之间的差值 \huge p&#x3D;e^{-\frac{\triangle f}{kT}}&#x3D;e^{-\frac{f(x1)-f(x2)}{kT}} \newline 注：k为下降速度，T为温度 \newline \qquad f(x1)-f(x2)为两个y之间的差值p&#x3D;e−kT△f&#x3D;e− ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/post/75d78487.html" title="Leetcode(一)两数之和"><img class="post-bg" src="https://gitee.com/jhj-coding/my-typora-picgo/raw/master/my-typora-picgo/default_bg.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Leetcode(一)两数之和"></a></div><div class="recent-post-info"><a class="article-title" href="/post/75d78487.html" title="Leetcode(一)两数之和">Leetcode(一)两数之和</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-04T13:06:30.000Z" title="发表于 2022-10-04 21:06:30">2022-10-04</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/leetcode/">leetcode</a></span></div><div class="content">两数之和暴力双层循环 两两相加 等于目标值 返回 即可
12345678910111213141516171819class Solution &#123;        public int[] twoSum(int[] nums, int target) &#123;            for(int i=0;i&lt;nums.length;i++)&#123;                for(int j=0;j&lt;nums.length;j++)&#123;                    if(nums[i]+nums[j]==target &amp;&amp; i!=j)&#123;                        int[] a=&#123;    i,j&#125;;                    return a;                &#125;            &#125;        &#125;        return null;    &#125;&#125;

map1234567891011 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/post/26099ff.html" title="pytorch线性回归"><img class="post-bg" src="https://gitee.com/jhj-coding/my-typora-picgo/raw/c8cb034c3d221e7ea91b89c8dce07a11d4723a57/img/77fcfea2a41749d7867f62f0e98b01ca.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="pytorch线性回归"></a></div><div class="recent-post-info"><a class="article-title" href="/post/26099ff.html" title="pytorch线性回归">pytorch线性回归</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-18T09:09:00.000Z" title="发表于 2022-09-18 17:09:00">2022-09-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/python/">python</a></span></div><div class="content">线性回归线性回归是对n维输入的加权，外加偏差使用平方损失来衡量预测值和真是值得差异线性回归有显示解线性回归可以看做是单层神经网络
从0开始
构造数据 根据带有噪声的线性模型构造一个人造数据集，我们使用线性模型参数 w&#x3D;[2,-3.4]T、b&#x3D;4.2 和噪声项€生成数据集及其标签 y&#x3D;Xw+b+€123456789101112def synthetic_data(w,b,num_examples):    &quot;&quot;&quot;生成y=Xw+b+噪声。&quot;&quot;&quot;    #均值为0 方差为1的随机数 行数列数    X=torch.normal(0,1,(num_examples,len(w)))    #X*w    y=torch.matmul(X,w)+b    y+=torch.normal(0,0.01,y.shape)    #将y变成列向量    return X,y.reshape((-1,1))true_w=torch.tensor([2,-3.1])true_b=4.2features,labels= ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/post/6a97b818.html" title="pytorch线性代数的基本操作"><img class="post-bg" src="https://gitee.com/jhj-coding/my-typora-picgo/raw/c8cb034c3d221e7ea91b89c8dce07a11d4723a57/img/77fcfea2a41749d7867f62f0e98b01ca.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="pytorch线性代数的基本操作"></a></div><div class="recent-post-info"><a class="article-title" href="/post/6a97b818.html" title="pytorch线性代数的基本操作">pytorch线性代数的基本操作</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-18T08:58:04.000Z" title="发表于 2022-09-18 16:58:04">2022-09-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/python/">python</a></span></div><div class="content">线性代数的基本操作
标量由只有一个元素的张量表示1234import torchx=torch.tensor([3.0])y=torch.tensor([2.0])x+y,x*y,x/y,x**y

向量视为标量值的组成 通过张量的索引来访问任一元素123456x=torch.arange(4)x,x[3]#张量的长度len(x)#张量的形状x.shape

对称矩阵 A&#x3D;AT123B=torch.tensor([[1,2,3],[2,0,5],[3,5,5]])#B.T代表B的转秩B,B==B.T

给定具有相同形状的任何两个张量，任何按元素二元运算的结果都将是相同形状的张量1234A=torch.arange(20,dtype=torch.float32).reshape(5,4)# 代表对A的克隆B=A.clone()B,A+B

两个矩阵的按元素乘法称为哈达玛积，每个元素相乘1A*B

标量与向量的+ &#x2F;*123a=2X=torch.arange(24).reshape(2,3,4)a+X,a*X

计算其元素的和12x=torch.arange(4,dty ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/post/eb067bd4.html" title="pytorch数据的基本操作"><img class="post-bg" src="https://gitee.com/jhj-coding/my-typora-picgo/raw/c8cb034c3d221e7ea91b89c8dce07a11d4723a57/img/77fcfea2a41749d7867f62f0e98b01ca.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="pytorch数据的基本操作"></a></div><div class="recent-post-info"><a class="article-title" href="/post/eb067bd4.html" title="pytorch数据的基本操作">pytorch数据的基本操作</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-18T08:45:05.000Z" title="发表于 2022-09-18 16:45:05">2022-09-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/python/">python</a></span></div><div class="content">基础使用
引入torch1import torch

表示一个数值组成的数组1x=torch.arange(12)

通过shape属性来访问x的形状和元素总数1234#x的形状x.shape#元素总数x.numel()

要改变一个张量的形状而不改变元素的数量和元素值，我们可以调用reshape函数 传入行 列 比如讲x改为3行4列1x.reshape(3,4)

使用全0、全1、其他常量或者从特定分布中随机采样的数字12345#使用全0创建 2个 3 行4列 的数组 其实是三维torch.zeros((2,3,4))#使用全1创建 2个 3 行4列 的数组 其实是三维torch.ones((2,3,4))

通过提供包含数值的python列表（或嵌套列表） 来为所需张量中的每个元素赋予确定值1torch.tensor([[[1,2,3],[7,8,9]]])

常见的标准算术运算符 + - &#x2F; &#x2F;* &#x2F;&#x2F; 都被升级为按元素运算12345x=torch.tensor([1,2,3])y=torch.tensor([1,2,3])x+y,x-y, ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/post/7c0a9bf6.html" title="Netty-RPC"><img class="post-bg" src="https://gitee.com/jhj-coding/my-typora-picgo/raw/master/my-typora-picgo/java.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Netty-RPC"></a></div><div class="recent-post-info"><a class="article-title" href="/post/7c0a9bf6.html" title="Netty-RPC">Netty-RPC</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-11T16:46:41.000Z" title="发表于 2022-09-12 00:46:41">2022-09-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Netty/">Netty</a></span></div><div class="content">RPC基本介绍
RPC（Remote Procedure Call）— 远程过程调用，是一个计算机通信协议。该协议允许运行于一台计算机的程序调用另一台计算机的子程序，而程序员无需额外地为这个交互作用编程
两个或多个应用程序都分布在不同的服务器上，它们之间的调用都像是本地方法调用一样

RPC调用流程图在RPC 中， Client叫服务消费者，Server 叫服务提供者
PRC调用流程说明
服务消费方(client)以本地调用方式调用服务
client stub 接收到调用后负责将方法、参数等封装成能够进行网络传输的消息体
client stub 将消息进行编码并发送到服务端
server stub 收到消息后进行解码
server stub 根据解码结果调用本地的服务
本地服务执行并将结果返回给 server stub
server stub 将返回导入结果进行编码并发送至消费方
client stub 接收到消息并进行解码
服务消费方(client)得到结果

案例代码https://gitee.com/jhj159/netty-learn/tree/master/src/main/ ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/post/831ecaaa.html" title="Tcp粘包和拆包"><img class="post-bg" src="https://gitee.com/jhj-coding/my-typora-picgo/raw/master/my-typora-picgo/java.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Tcp粘包和拆包"></a></div><div class="recent-post-info"><a class="article-title" href="/post/831ecaaa.html" title="Tcp粘包和拆包">Tcp粘包和拆包</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-10T11:05:47.000Z" title="发表于 2022-09-10 19:05:47">2022-09-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Netty/">Netty</a></span></div><div class="content">TCP 粘包和拆包基本介绍
TCP是面向连接的，面向流的，提供高可靠性服务。收发两端（客户端和服务器端）都要有一一成对的socket，因此，发送端为了将多个发给接收端的包，更有效的发给对方，使用了优化方法（Nagle算法），将多次间隔较小且数据量小的数据，合并成一个大的数据块，然后进行封包。这样做虽然提高了效率，但是接收端就难于分辨出完整的数据包了，因为面向流的通信是无消息保护边界的
由于TCP无消息保护边界, 需要在接收端处理消息边界问题，也就是我们所说的粘包、拆包问题,假设客户端分别发送了两个数据包D1和D2给服务端，由于服务端一次读取到字节数是不确定的，故可能存在以下四种情况：
服务端分两次读取到了两个独立的数据包，分别是D1和D2，没有粘包和拆包
服务端一次接受到了两个数据包，D1和D2粘合在一起，称之为TCP粘包
服务端分两次读取到了数据包，第一次读取到了完整的D1包和D2包的部分内容，第二次读取到了D2包的剩余内容，这称之为TCP拆包
服务端分两次读取到了数据包，第一次读取到了D1包的部分内容D1_1，第二次读取到了D1包的剩余部分内容D1_2和完整的D2包。

TCP 粘 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/post/b1bad77e.html" title="Netty编解码器和handler的调用机制"><img class="post-bg" src="https://gitee.com/jhj-coding/my-typora-picgo/raw/master/my-typora-picgo/java.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Netty编解码器和handler的调用机制"></a></div><div class="recent-post-info"><a class="article-title" href="/post/b1bad77e.html" title="Netty编解码器和handler的调用机制">Netty编解码器和handler的调用机制</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-10T07:16:02.000Z" title="发表于 2022-09-10 15:16:02">2022-09-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Netty/">Netty</a></span></div><div class="content">基本说明
netty的组件设计：Netty的主要组件有Channel、EventLoop、ChannelFuture、ChannelHandler、ChannelPipe等
ChannelHandler充当了处理入站和出站数据的应用程序逻辑的容器。例如，实现ChannelInboundHandler接口（或ChannelInboundHandlerAdapter），你就可以接收入站事件和数据，这些数据会被业务逻辑处理。当要给客户端发送响应时，也可以从ChannelInboundHandler冲刷数据。业务逻辑通常写在一个或者多个ChannelInboundHandler中。ChannelOutboundHandler原理一样，只不过它是用来处理出站数据的
ChannelPipeline提供了ChannelHandler链的容器。以客户端应用程序为例，如果事件的运动方向是从客户端到服务端的，那么我们称这些事件为出站的，即客户端发送给服务端的数据会通过pipeline中的一系列ChannelOutboundHandler，并被这些Handler处理，反之则称为入站的

编码解码器
当Net ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/8/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/#content-inner">8</a><span class="page-number current">9</span><a class="page-number" href="/page/10/#content-inner">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/19/#content-inner">19</a><a class="extend next" rel="next" href="/page/10/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://gitee.com/jhj-coding/my-typora-picgo/raw/master/my-typora-picgo/avatar1.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">jhj</div><div class="author-info__description">努力学习，努力爱你!</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">190</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">62</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">18</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/jhj-coding"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/jhj-coding" target="_blank" title="github"><i class="fab fa-github" style="color: #hdhfbb;"></i></a><a class="social-icon" href="https://gitee.com/jhj-coding" target="_blank" title="gitee"><i class="iconfont icon-gitee" style="color: #hdhfbb;"></i></a><a class="social-icon" href="https://blog.csdn.net/weixin_45247019" target="_blank" title="csdn"><i class="iconfont icon-csdn" style="color: #hdhfbb;"></i></a><a class="social-icon" href="mailto:jhjcoding@163.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #hdhfbb;"></i></a><a class="social-icon" href="https://gitee.com/jhj-coding/my-typora-picgo/raw/master/my-typora-picgo/qq.jpg" target="_blank" title="qq"><i class="fa-brands fa-qq" style="color: #hdhfbb;"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss" style="color: #hdhfbb;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">welcome to jhj-coding</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/69b390b5.html" title="Spring 事务失效"><img src="https://gitee.com/jhj-coding/my-typora-picgo/raw/master/my-typora-picgo/java.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring 事务失效"/></a><div class="content"><a class="title" href="/post/69b390b5.html" title="Spring 事务失效">Spring 事务失效</a><time datetime="2024-06-22T04:35:09.000Z" title="发表于 2024-06-22 12:35:09">2024-06-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/20b0cab5.html" title="nacos配置文件优先级"><img src="https://gitee.com/jhj-coding/my-typora-picgo/raw/master/my-typora-picgo/java.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="nacos配置文件优先级"/></a><div class="content"><a class="title" href="/post/20b0cab5.html" title="nacos配置文件优先级">nacos配置文件优先级</a><time datetime="2024-06-16T15:24:04.000Z" title="发表于 2024-06-16 23:24:04">2024-06-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/61c14b7.html" title="实现多级树形结构查询 比如分类（父分类、子分类）"><img src="https://gitee.com/jhj-coding/my-typora-picgo/raw/master/my-typora-picgo/java.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="实现多级树形结构查询 比如分类（父分类、子分类）"/></a><div class="content"><a class="title" href="/post/61c14b7.html" title="实现多级树形结构查询 比如分类（父分类、子分类）">实现多级树形结构查询 比如分类（父分类、子分类）</a><time datetime="2024-05-22T14:45:00.000Z" title="发表于 2024-05-22 22:45:00">2024-05-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/c7d03c1a.html" title="docker安装mysql chown: changing ownership of '/var/lib/mysql/': Permission denied"><img src="https://gitee.com/jhj-coding/my-typora-picgo/raw/master/my-typora-picgo/java.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="docker安装mysql chown: changing ownership of '/var/lib/mysql/': Permission denied"/></a><div class="content"><a class="title" href="/post/c7d03c1a.html" title="docker安装mysql chown: changing ownership of '/var/lib/mysql/': Permission denied">docker安装mysql chown: changing ownership of '/var/lib/mysql/': Permission denied</a><time datetime="2024-05-10T16:51:30.000Z" title="发表于 2024-05-11 00:51:30">2024-05-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/3e9a00f8.html" title="异常机制为什么耗时"><img src="https://gitee.com/jhj-coding/my-typora-picgo/raw/master/my-typora-picgo/java.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="异常机制为什么耗时"/></a><div class="content"><a class="title" href="/post/3e9a00f8.html" title="异常机制为什么耗时">异常机制为什么耗时</a><time datetime="2024-05-10T16:51:30.000Z" title="发表于 2024-05-11 00:51:30">2024-05-11</time></div></div></div></div><div class="card-widget" id="card-newest-comments"><div class="item-headline"><i class="fas fa-comment-dots"></i><span>最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Java/"><span class="card-category-list-name">Java</span><span class="card-category-list-count">72</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Java/SpringBoot/"><span class="card-category-list-name">SpringBoot</span><span class="card-category-list-count">72</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Java/SpringBoot/SpringCloud/"><span class="card-category-list-name">SpringCloud</span><span class="card-category-list-count">72</span></a></li></ul></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Netty/"><span class="card-category-list-name">Netty</span><span class="card-category-list-count">20</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/geoserver/"><span class="card-category-list-name">geoserver</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/java/"><span class="card-category-list-name">java</span><span class="card-category-list-count">2</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/java/mysql/"><span class="card-category-list-name">mysql</span><span class="card-category-list-count">1</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/juc/"><span class="card-category-list-name">juc</span><span class="card-category-list-count">4</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/%E8%BF%90%E7%BB%B4/" style="font-size: 1.32em; color: rgb(177, 133, 152)">运维</a><a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 1.28em; color: rgb(159, 152, 3)">前端</a><a href="/tags/%E5%BC%80%E5%8F%91%E8%AF%AD%E8%A8%80/" style="font-size: 1.42em; color: rgb(196, 93, 99)">开发语言</a><a href="/tags/c/" style="font-size: 1.18em; color: rgb(178, 97, 167)">c++</a><a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 1.22em; color: rgb(128, 106, 10)">网络</a><a href="/tags/python/" style="font-size: 1.25em; color: rgb(100, 113, 161)">python</a><a href="/tags/linux/" style="font-size: 1.35em; color: rgb(111, 178, 112)">linux</a><a href="/tags/udp/" style="font-size: 1.15em; color: rgb(27, 9, 24)">udp</a><a href="/tags/java/" style="font-size: 1.45em; color: rgb(180, 46, 152)">java</a><a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 1.15em; color: rgb(52, 21, 119)">面试</a><a href="/tags/elasticsearch/" style="font-size: 1.18em; color: rgb(111, 49, 24)">elasticsearch</a><a href="/tags/dubbo/" style="font-size: 1.15em; color: rgb(3, 13, 17)">dubbo</a><a href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" style="font-size: 1.15em; color: rgb(181, 140, 130)">大数据</a><a href="/tags/spring/" style="font-size: 1.28em; color: rgb(20, 177, 158)">spring</a><a href="/tags/cloud/" style="font-size: 1.18em; color: rgb(129, 16, 69)">cloud</a><a href="/tags/big/" style="font-size: 1.15em; color: rgb(80, 64, 45)">big</a><a href="/tags/data/" style="font-size: 1.15em; color: rgb(153, 128, 174)">data</a><a href="/tags/html/" style="font-size: 1.15em; color: rgb(39, 157, 8)">html</a><a href="/tags/javascript/" style="font-size: 1.15em; color: rgb(179, 98, 26)">javascript</a><a href="/tags/jvm/" style="font-size: 1.18em; color: rgb(5, 85, 2)">jvm</a><a href="/tags/docker/" style="font-size: 1.25em; color: rgb(28, 196, 75)">docker</a><a href="/tags/redis/" style="font-size: 1.18em; color: rgb(54, 6, 46)">redis</a><a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.38em; color: rgb(74, 58, 80)">算法</a><a href="/tags/%E8%81%8C%E5%9C%BA%E5%92%8C%E5%8F%91%E5%B1%95/" style="font-size: 1.15em; color: rgb(108, 124, 24)">职场和发展</a><a href="/tags/mongodb/" style="font-size: 1.15em; color: rgb(7, 125, 130)">mongodb</a><a href="/tags/mysql/" style="font-size: 1.22em; color: rgb(120, 164, 196)">mysql</a><a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 1.28em; color: rgb(38, 177, 78)">数据库</a><a href="/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/" style="font-size: 1.25em; color: rgb(108, 91, 59)">服务器</a><a href="/tags/servlet/" style="font-size: 1.15em; color: rgb(31, 88, 45)">servlet</a><a href="/tags/rpc/" style="font-size: 1.15em; color: rgb(136, 185, 75)">rpc</a><a href="/tags/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/" style="font-size: 1.15em; color: rgb(139, 56, 113)">网络协议</a><a href="/tags/boot/" style="font-size: 1.18em; color: rgb(198, 65, 71)">boot</a><a href="/tags/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/" style="font-size: 1.15em; color: rgb(197, 109, 185)">搜索引擎</a><a href="/tags/ubuntu/" style="font-size: 1.15em; color: rgb(153, 137, 94)">ubuntu</a><a href="/tags/%E5%AE%B9%E5%99%A8/" style="font-size: 1.25em; color: rgb(140, 178, 115)">容器</a><a href="/tags/%E7%BC%93%E5%AD%98/" style="font-size: 1.15em; color: rgb(135, 20, 154)">缓存</a><a href="/tags/git/" style="font-size: 1.15em; color: rgb(190, 14, 149)">git</a><a href="/tags/gradle/" style="font-size: 1.15em; color: rgb(69, 184, 48)">gradle</a><a href="/tags/ide/" style="font-size: 1.15em; color: rgb(138, 64, 40)">ide</a><a href="/tags/intellij/" style="font-size: 1.15em; color: rgb(82, 93, 127)">intellij</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">六月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/05/"><span class="card-archive-list-date">五月 2024</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/12/"><span class="card-archive-list-date">十二月 2023</span><span class="card-archive-list-count">18</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/09/"><span class="card-archive-list-date">九月 2023</span><span class="card-archive-list-count">18</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">八月 2023</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">三月 2023</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">190</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2021-12-31T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">298.7k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-06-22T04:53:10.306Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://id.ouc.edu.cn/sso/casLogin/img/banner2-1694742541774.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024  <i id="heartbeat" class="fa fas fa-heartbeat"></i> jhj</div><div class="footer_custom_text">welcome to my blob <br/> 本站中一些图片资源来源 于JavaGuide、代码随想录、尚硅谷等。</div></div><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="chat-btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js@2.1.0/dist/typed.umd.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  fetch('https://v1.hitokoto.cn')
    .then(response => response.json())
    .then(data => {
      if (true) {
        const from = '出自 ' + data.from
        const sub = []
        sub.unshift(data.hitokoto, from)
        typedJSFn.init(sub)
      } else {
        document.getElementById('subtitle').textContent = data.hitokoto
      }
    })
}
typedJSFn.run(subtitleType)
</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://twikoo.jhj-coding.top/',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.jsdelivr.net/npm/twikoo@1.6.31/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script src="/js/custom.js"></script><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script src="//code.tidio.co/th7rc6a4lyprr1ddkuejkobcxcttlbcr.js" async="async"></script><script>(() => {
  const isChatBtn = true
  const isChatHideShow = true

  if (isChatBtn) {
    let isShow = false
    const close = () => {
      window.tidioChatApi.hide()
      isShow = false
    }
    
    const open = () => {
      window.tidioChatApi.open()
      window.tidioChatApi.show()
      isShow = true
    }

    const onTidioChatApiReady = () => {
      window.tidioChatApi.hide()
      window.tidioChatApi.on("close", close)
    }
    if (window.tidioChatApi) {
      window.tidioChatApi.on("ready", onTidioChatApiReady)
    } else {
      document.addEventListener("tidioChat-ready", onTidioChatApiReady)
    }

    window.chatBtnFn = () => {
      if (!window.tidioChatApi) return
      isShow ? close() : open()
    }
  } else if (isChatHideShow) {
    window.chatBtn = {
      hide: () => {
        window.tidioChatApi && window.tidioChatApi.hide()
      },
      show: () => {
        window.tidioChatApi && window.tidioChatApi.show()
      }
    }
  }
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.22.1/dist/algoliasearch-lite.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.65.0/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js?v=4.13.0"></script></div></div><!-- hexo injector body_end start --><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><!-- hexo injector body_end end --></body></html>